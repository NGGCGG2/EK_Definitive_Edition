[core]
name:EkExcelsiorCombatmode
displayText:Excelsior
displayDescription:-MCV\n-Mobile Command Center\n-Constructs various buildings and units\n-Produces 30 income\n-Can build space elevator\n-Carries 10 unit\n-Walk over water\n-Emergency system\n-Laser defense overdrive\n-Last stand\n-Last effort to survive in a critical event
displayText_zh:精益求精级指挥中心
displayDescription_zh:机械化作战载具\n移动指挥中心\n制造各种建筑和单位\n每秒生产30资金\n可以建造太空升降机\n可以运输10个单位\n可以在水上移动\n自带应急系统\n过载激光防御\n适合在最终决战使用\n在毁灭性打击中生存的最佳单位
price:250000,experimental=12000
maxHp:12000
armour:30
armourMinDamageToKeep:0
mass:1000000
tags:radar,detect,Experimental
techLevel:2
buildSpeed:180s
experimental:true
radius:95
displayRadius:95
fogOfWarSightRange:24
numBitsOnDeath:100
explodeTypeOnDeath:verylargeBuilding
transportSlotsNeeded:5
isBio:false
generation_credits:30
energyMax:4
energyRegen:0.0005
energyNeedsToRechargeToFull:false
canRepairBuildings:false
canRepairUnits:false
autoRepair:false
nanoRange:220
nanoRepairSpeed:0.6
nanoBuildSpeed:8
maxShield:6000
shieldRegen:0.6
shieldRenderRadius:1
shieldDisplayOnlyDeflection:true
shieldDeflectionDisplayRate:9999
maxTransportingUnits:10
nanoFactorySpeed:2
canBuild_1_name:reclaim
canBuild_1_pos:-1
exit_x:0
exit_y:20
exit_dirOffset:0
exit_moveAwayAmount:75
isPickableStartingUnit:true
autoTriggerCooldownTime:1
[hiddenAction_EMP_activate]
setUnitStats:moveSpeed=0,maxTurnSpeed=0,maxAttackRange=0,nanoRange=0,selfRegenRate=0,maxEnergy=0,energy=0
[hiddenAction_OVERRIDE_ON?]
buildSpeed:0s
autoTrigger:if self.hp(lessThan=${core.maxHp*0.5})and not self.hasFlag(id=22)and not self.hasFlag(id=23)
alsoQueueAction:OVERRIDE_SKILL
alsoTriggerOrQueueActionConditional:if not self.hasFlag(id=23)
[hiddenAction_OVERRIDE_OFF?]
buildSpeed:0s
autoTrigger:if self.resource(type="overlaser",lessThan=1)and self.hasFlag(id=22)
addResources:unsetFlag=22,setFlag=23
resetCustomTimer:true
addActionCooldownTime:180s
addActionCooldownApplyToActions:OVERRIDE_SKILL
[hiddenAction_OVERRIDE_FLAG3?]
autoTrigger:if self.customTimer(laterThanSeconds=180)and self.hasFlag(id=23)
addResources:unsetFlag=23
[action_OVERRIDE_SKILL]
text:OVERLOAD
description:[Passive skill]\nTriggered when the HP is lower than 50%\nSuper-speed recovery of laser defense energy\n180s cooldown
text_zh:过载
description_zh:[被动技能]\n低于50%血量时触发\n超高速恢复激光防御能量\n180秒冷却
isGuiBlinking:if self.hasFlag(id=22)
buildSpeed:0s
isVisible:true
isActive:false
addResources:setFlag=22-23,overlaser=600
displayType:infoOnly
pos:0.001
highPriorityQueue:true
[hiddenAction_OVERRIDE_LASER]
autoTrigger:if self.resource(type="overlaser",greaterThan=0)
addResources:overlaser=-1,energy=0.5
[resource_overlaser]
displayName:OVERLASER
displayName_zh:过载激光
hidden:true
[hiddenAction_OVERHEAL_ON?]
buildSpeed:0s
autoTrigger:if self.hp(lessThan=${core.maxHp*0.25})and not self.hasFlag(id=24)and not self.hasFlag(id=25)and not self.resource(greaterThan=0,type='EMP')
alsoQueueAction:OVERHEAL_SKILL
alsoTriggerOrQueueActionConditional:if not self.hasFlag(id=25)
[hiddenAction_OVERHEAL_OFF?]
buildSpeed:0s
autoTrigger:if self.resource(type="overlaser",lessThan=1)and self.hasFlag(id=24)
addResources:unsetFlag=24,setFlag=25
[action_OVERHEAL_SKILL]
text:LAST STAND
description:[Emergency system]\nAutomatically trigger when the HP is lower than 25%\nRecover 6000 HP during the skill period\nCan only be triggered once
text_zh:不屈
description_zh:[应急系统]\n低于25%血量时自动触发\n技能期间恢复6000血量\n只能触发一次
isGuiBlinking:if self.hasFlag(id=24)
buildSpeed:0s
isVisible:true
isActive:false
addResources:setFlag=24-25,overheal=600
displayType:infoOnly
pos:0.0015
isLocked:if self.hasFlag(id=25)and not self.hasFlag(id=24)
isLockedMessage:Already Triggered Once
isLockedMessage_zh:已经触发过一次了
highPriorityQueue:true
[hiddenAction_OVERHEAL]
autoTrigger:if self.resource(type="overheal",greaterThan=0)
addResources:overheal=-1,hp=10
[resource_overheal]
displayName:OVERHEAL
displayName_zh:过载修复
hidden:true
[canBuild_antilose]
name:landFactory
isVisible:false
[hiddenAction_bugfix]
autoTriggerOnEvent:created
addResources:setFlag=1
[action_autoTransform]
autoTrigger:if not numberOfUnitsInEnemyTeam(greaterThan=0,withinRange=450)and not self.hasFlag(id=1)and self.hasFlag(id=2)
isActive:if self.queueSize(empty=true)
alsoQueueAction:transform
addResources:setFlag=1
isVisible:false
[action_auto]
ai_isDisabled:true
text:[AUTO SWITCH MODE]
text_zh:[自动切换模式]
pos:0.002
autoTrigger:if self.isControlledByAI()and not self.hasFlag(id=2)
addResources:setFlag=2
isGuiBlinking:if self.hasFlag(id=2)
isVisible:if not self.hasFlag(id=2)
buildSpeed:0s
[action_unauto]
ai_isDisabled:true
text:[UNAUTO SWITCH MODE]
text_zh:[取消自动切换]
pos:0.002
addResources:unsetFlag=2
isGuiBlinking:if self.hasFlag(id=2)
isVisible:if self.hasFlag(id=2)
buildSpeed:0s
[action_transform]
convertTo:EkExcelsior
whenBuilding_playAnimation:transformNormal
pos:0
isGuiBlinking:if self.hasFlag(id=2)
ai_isDisabled:true
text:[PASSIVE MODE]
description:-Enter Passive mode to build certain unit and building\n-Enable to repair and build system\n-Hidde weapon systems
text_zh:[被动模式]
description_zh:进入被动模式建造单位和建筑\n启用修复和建造系统\n隐藏武器系统
buildSpeed:10s
convertTo_keepCurrentTags:true
isVisible:true
[graphics]
icon_zoomed_out:unit_icon_excelsior.png
total_frames:1
image:excelsior.png
image_wreak:NONE
teamColorsOnTurret:true
image_shadow:SHADOW:excelsior.png
shadowOffsetX:2
shadowOffsetY:2
lock_body_rotation_with_main_turret:true
lock_leg_rotation_with_main_turret:true
lock_shadow_rotation_with_main_turret:true
showShieldBar:false
[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
isFixedFiring:true
turretSize:20
turretTurnSpeed:1.75
maxAttackRange:400
shootDelay:60
setMainTurretAs:nullbase
[arm_1]
x:0
y:0
image_end:excelsior_mask.png
image_end_teamColors:true
drawOverBody:true
drawDirOffset:0
[arm_2]
x:-25
y:55
image_end:excelsior_pod_left.png
image_end_teamColors:true
drawOverBody:true
drawDirOffset:-45
[arm_3]
x:25
y:55
image_end:excelsior_pod_right.png
image_end_teamColors:true
drawOverBody:true
drawDirOffset:45
[arm_4]
x:-34
y:46
image_end:excelsior_podhatch_left.png
image_end_teamColors:true
drawOverBody:true
drawDirOffset:-45
[arm_5]
x:34
y:46
image_end:excelsior_podhatch_right.png
image_end_teamColors:true
drawOverBody:true
drawDirOffset:45
[arm_6]
x:-34
y:-74
image_end:excelsior_wing_left.png
image_end_teamColors:true
drawDirOffset:45
[arm_7]
x:34
y:-74
image_end:excelsior_wing_right.png
image_end_teamColors:true
drawDirOffset:-45
[arm_8]
hidden:if not self.hasFlag(id=1)
x:-25
y:55
image_end:excelsior_trigun.png
drawOverBody:false
drawDirOffset:0
[arm_9]
hidden:if not self.hasFlag(id=1)
x:25
y:55
image_end:excelsior_trigun.png
drawOverBody:false
drawDirOffset:0
[arm_10]
x:-21
y:-53
image_end:excelsior_podhatch_rear.png
image_end_teamColors:true
drawOverBody:true
drawDirOffset:0
[arm_11]
x:21
y:-53
image_end:excelsior_podhatch_rear.png
image_end_teamColors:true
drawOverBody:true
drawDirOffset:0
[arm_12]
x:0
y:-2
image_end:excelsior_dish.png
image_end_teamColors:true
drawOverBody:true
spinRate:0.8
[turret_nullbase]
x:0
y:0
image:SHARED:blank.png
shouldResetTurret:true
canAttackFlyingUnits:false
canAttackLandUnits:true
canShoot:false
turnSpeed:0.5
turnSpeedAcceleration:0.005
[turret_2]
x:0
y:16
attachedTo:nullbase
canShoot:false
canAttackFlyingUnits:false
canAttackLandUnits:false
canAttackUnderwaterUnits:false
invisible:true
canAttackMaxAngle:360
laserDefenceEnergyUse:0.05
limitingRange:150
size:0.5
turnSpeed:15
[turret_3]
x:-25
y:60
attachedTo:nullbase
image:excelsior_trigun.png
invisible:if self.hasFlag(id=1)
idleDir:0
limitingAngle:15
canAttackMaxAngle:15
canAttackFlyingUnits:false
canAttackLandUnits:true
canAttackUnderwaterUnits:false
delay:10
size:68
projectile:3
turnSpeed:1
turnSpeedAcceleration:0.09
shoot_sound:large_gun_fire2
shoot_sound_vol:0.4
shoot_flame:CUSTOM:EkMuzzleLarge
shoot_light:#FFFFCC00
canShoot:true
recoilOffset:-2
recoilOutTime:2
recoilReturnTime:6
[turret_4]
x:25
y:60
attachedTo:nullbase
copyFrom:3
linkDelayWithTurret:3
delay:10
warmup:5
recoilOffset:-2
recoilOutTime:2
recoilReturnTime:6
[turret_23]
x:-48
y:80
invisible:true
shoot_sound:missile_fire
shoot_sound_vol:0.2
shoot_flame:shockwave
shoot_light:#FFEECCCC
canShoot:true
canAttackFlyingUnits:false
canAttackLandUnits:true
canAttackUnderwaterUnits:false
projectile:4
size:1
attachedTo:nullbase
turnSpeed:15
delay:40
canAttackMaxAngle:360
[turret_24]
x:48
y:80
copyFrom:23
linkDelayWithTurret:23
warmup:10
attachedTo:nullbase
[turret_25]
x:-8
y:-53
copyFrom:23
linkDelayWithTurret:23
warmup:20
attachedTo:nullbase
[turret_26]
x:8
y:-53
copyFrom:23
linkDelayWithTurret:23
warmup:30
attachedTo:nullbase
[turret_27]
x:-8
y:-53
invisible:true
shoot_sound:missile_fire
shoot_sound_vol:0.2
shoot_flame:shockwave
shoot_light:#FFEECCCC
canShoot:true
canAttackFlyingUnits:true
canAttackLandUnits:false
canAttackUnderwaterUnits:false
projectile:5
size:1
attachedTo:nullbase
turnSpeed:15
canAttackMaxAngle:360
delay:30
[turret_28]
x:8
y:-53
copyFrom:27
linkDelayWithTurret:27
warmup:15
attachedTo:nullbase
[turret_1]
x:16
y:-15
idleDir:-120
attachedTo:nullbase
turnSpeed:0
size:27
image:excelsior_crane.png
canShoot:false
projectile:dummy
canAttackFlyingUnits:false
canAttackLandUnits:false
canAttackUnderwaterUnits:false
isMainNanoTurret:false
[projectile_Dummy]
directDamage:0
life:0
speed:0
drawSize:0
color:#46ebff
lightColor:#46ebff
lightSize:0
[attachment_side_top_guns]
x:0
y:0
idleDir:0
onCreateSpawnUnitOf:EkExcelsiorSIDEweapon
addTransportedUnits:false
setDrawLayerOnTop:true
lockLegMovement:true
keepAliveWhenParentDies:false
canBeAttackedAndDamaged:false
isUnselectable:true
prioritizeParentsMainTarget:true
alwaysAllowedToAttackParentsMainTarget:true
canAttack:true
resetRotationWhenNotAttacking:true
rotateWithParent:true
createIncompleteIfParentIs:false
redirectDamageToParent:true
redirectDamageToParent_shieldOnly:true
[leg_1]
x:-50
y:80
attach_x:-30
attach_y:30
moveSpeed:1.5
heightSpeed:0.15
holdDisMin:16
holdDisMax:32
image_leg:excelsior_leg.png
image_foot:excelsior_foot.png
favourOppositeSideNeighbours:true
holdDisMin_maxMovingLegs:2
holdDisMin_checkNeighbours:true
[leg_2]
x:50
y:80
attach_x:30
attach_y:30
copyFrom:1
[leg_3]
x:-70
y:-25
attach_x:-30
attach_y:-15
copyFrom:1
[leg_4]
x:70
y:-25
attach_x:30
attach_y:-15
copyFrom:1
[leg_5]
x:-70
y:45
attach_x:-30
attach_y:15
copyFrom:1
[leg_6]
x:70
y:45
attach_x:30
attach_y:15
copyFrom:1
[leg_7]
x:-50
y:-60
attach_x:-30
attach_y:-30
copyFrom:1
[leg_8]
x:50
y:-60
attach_x:30
attach_y:-30
copyFrom:1
[projectile_1]
directDamage:150
life:120
speed:8
areaDamage:750
areaRadius:100
image:double_shot.png
drawSize:1.2
largeHitEffect:true
lightColor:#FFFF2211
lightSize:0.9
targetGround:true
targetGroundSpread:25
explodeEffect:CUSTOM:projectileSound1,CUSTOM:projectileGroundSmoke*3,CUSTOM:projectileGroundSplash*3,CUSTOM:projectileWaterSmoke*3,CUSTOM:projectileWaterSplash*3,CUSTOM:projectileFlash
[projectile_2]
life:70
speed:10
areaDamage:40
areaRadius:40
targetGround:true
targetGroundSpread:20
largeHitEffect:true
areaHitAirAndLandAtSameTime:true
image:tracer_shot.png
drawSize:0.8
lightColor:#FFFF6622
lightSize:0.7
[projectile_3]
life:70
speed:12
areaDamage:45
areaRadius:50
frame:11
drawSize:1.5
color:#FFAD64
largeHitEffect:true
targetGround:true
targetGroundSpread:15
lightColor:#FFFF5500
lightSize:0.7
deflectionPower:-1
[projectile_4]
life:150
speed:1
targetSpeed:4
image:heavy_rocket.png
drawSize:1.025
areaDamage:80
areaRadius:80
largeHitEffect:true
targetGround:true
targetGroundSpread:25
lightColor:#ffe92b
lightSize:1
[projectile_5]
directDamage:80
life:240
speed:0.2
targetSpeed:5
areaDamage:60
areaRadius:50
image:heavy_rocket.png
largeHitEffect:true
drawSize:1.05
lightColor:#ffe92b
lightSize:1
autoTargetingOnDeadTarget:true
[effect_EkMuzzleLarge]
life:10
showInFog:true
attachedToUnit:true
image:muzzle_large.png
total_frames:5
animateFrameStart:0
animateFrameEnd:4
animateFrameSpeed:1
scaleFrom:1.5
scaleTo:1.5
fadeOut:false
yOffsetRelative:7
[effect_projectileGroundSmoke]
stripIndex:effects
frameIndex:0
createWhenOverLiquid:false
life:360
fadeOut:true
attachedToUnit:false
color:#6D5448
fadeInTime:5
scaleFrom:1.5
scaleTo:8
alpha:1
drawUnderUnits:false
hSpeed:0.2
hOffsetRandom:0.15
atmospheric:true
dirOffsetRandom:180
shadow:true
xOffsetRelativeRandom:32
yOffsetRelativeRandom:32
xSpeedAbsoluteRandom:0.3
ySpeedAbsoluteRandom:0.3
[effect_projectileGroundSplash]
image:sub_bubbles.png
createWhenOverLiquid:false
life:120
fadeOut:true
attachedToUnit:false
color:#463126
fadeInTime:5
scaleFrom:1
scaleTo:4
alpha:1
drawUnderUnits:false
hSpeed:1
hOffsetRandom:0.3
atmospheric:true
dirOffsetRandom:180
physics:true
physicsGravity:0.1
xOffsetRelativeRandom:16
yOffsetRelativeRandom:16
xSpeedAbsoluteRandom:0.8
ySpeedAbsoluteRandom:0.8
[effect_projectileWaterSmoke]
stripIndex:effects
frameIndex:0
createWhenOverLand:false
life:360
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:5
scaleFrom:1.5
scaleTo:8
alpha:0.8
drawUnderUnits:false
hSpeed:0.2
hOffsetRandom:0.15
atmospheric:true
dirOffsetRandom:180
shadow:true
xOffsetRelativeRandom:32
yOffsetRelativeRandom:32
xSpeedAbsoluteRandom:0.3
ySpeedAbsoluteRandom:0.3
[effect_projectileWaterSplash]
image:sub_bubbles.png
createWhenOverLand:false
life:120
fadeOut:true
attachedToUnit:false
color:#FFFFFF
fadeInTime:5
scaleFrom:1
scaleTo:4
alpha:1
drawUnderUnits:false
hSpeed:1
hOffsetRandom:0.3
atmospheric:true
dirOffsetRandom:180
physics:true
physicsGravity:0.1
xOffsetRelativeRandom:16
yOffsetRelativeRandom:16
xSpeedAbsoluteRandom:0.8
ySpeedAbsoluteRandom:0.8
[effect_projectileSound1]
alsoPlaySound:unit_explode
life:60
[effect_projectileFlash]
image:SHARED:light_50.png
life:30
fadeOut:true
attachedToUnit:false
color:#FFC08D
fadeInTime:2
scaleFrom:3
scaleTo:2
alpha:1
drawUnderUnits:false
atmospheric:false
hOffset:5
yOffsetAbsolute:-10
[animation_transformNormal]
KeyframeTimeScale:1
arm4_1s:{x:9,y:9,dir:0}
arm5_1s:{x:-9,y:9,dir:0}
arm10_1s:{x:13,y:0,dir:0}
arm11_1s:{x:-13,y:0,dir:0}
arm2_2s:{x:0,y:0,dir:0}
arm3_2s:{x:0,y:0,dir:0}
arm4_2s:{x:9,y:9,dir:0}
arm5_2s:{x:-9,y:9,dir:0}
arm6_2s:{x:0,y:0,dir:0}
arm7_2s:{x:0,y:0,dir:0}
arm8_2s:{x:0,y:-25,dir:0}
arm9_2s:{x:0,y:-25,dir:0}
arm6_3s:{x:5,y:5,dir:0}
arm7_3s:{x:-5,y:5,dir:0}
arm2_5s:{x:0,y:0,dir:45}
arm3_5s:{x:0,y:0,dir:-45}
arm4_5s:{x:9,y:9,dir:45}
arm5_5s:{x:-9,y:9,dir:-45}
arm6_5s:{x:5,y:5,dir:-45}
arm7_5s:{x:-5,y:5,dir:45}
arm8_5s:{x:0,y:-25,dir:0}
arm9_5s:{x:0,y:-25,dir:0}
[movement]
movementType:OVER_CLIFF_WATER
moveSpeed:0.3
moveAccelerationSpeed:0.05
moveDecelerationSpeed:0.05
startingHeightOffset:2
targetHeight:2
targetHeightDrift:0
heightChangeRate:1
reverseSpeedPercentage:0.5
maxTurnSpeed:0.5
turnAcceleration:0.005
moveSlidingMode:false
moveIgnoringBody:false
moveSlidingDir:45
[ai]
useAsBuilder:false
upgradedFrom:EkExcelsior
