[core]
name:Ek_AirBastion
displayText:Meteorwing
displayDescription:-Heavy super flying gunship\n-Quad heavy high-explosive cannon\n-Quad plasma machine gun\n-Mega missile array\n-Drops a large number of bombs\n-Laser defense\n-Can transform into hover defense mode
displayText_zh:流星之翼级飞行炮舰
displayDescription_zh:重型超级飞行炮舰\n四联装重型高爆机炮\n四联装等离子机枪\n舰载导弹舱阵列\n连续投下大量炸弹\n内置激光防御\n可以变形为悬浮防御模式
price:240000
mass:100000
buildSpeed:120s
radius:40
maxHp:4000
techLevel:2
fogOfWarSightRange:30
transportSlotsNeeded:5
softCollisionOnAll:24
energyMax:1.0
energyRegen:0.002
energyNeedsToRechargeToFull:true
selfRegenRate:0.1
numBitsOnDeath:50
explodeTypeOnDeath:verylargeBuilding
tags:LaserOff
[attachment_LaserDefenceModule]
x:-0.5
y:6.5
idleDir:0
isVisible:true
setDrawLayerOnBottom:true
canAttack:false
onCreateSpawnUnitOf:Ek_LaserDefenceModuleOff
canBeAttackedAndDamaged:false
isUnselectable:true
keepAliveWhenParentDies:false
lockRotation:true
rotateWithParent:false
[graphics]
image:base.png
movementEffect:CUSTOM:EkJetfire1,CUSTOM:EkJetfire2,CUSTOM:EkJetfire3,CUSTOM:EkJetfire4,CUSTOM:EkJetwash
movementEffectRate:6
image_shadow:AUTO
teamColorsOnTurret:true
[arm_1]
x:0
y:0
image_end:subpanel_D10.png
image_end_shadow:SHADOW:subpanel_D10.png
image_end_teamColors:true
[arm_2]
x:0
y:0
image_end:Rwing_L12.png
image_end_shadow:SHADOW:Rwing_L12.png
image_end_teamColors:true
[arm_3]
x:0
y:0
image_end:Lwing_R12.png
image_end_shadow:SHADOW:Lwing_R12.png
image_end_teamColors:true
[arm_4]
x:0
y:0
image_end:Rmissile_L17.png
image_end_shadow:SHADOW:Rmissile_L17.png
image_end_teamColors:true
[arm_5]
x:0
y:0
image_end:Rmissile_L17a.png
image_end_shadow:SHADOW:Rmissile_L17a.png
image_end_teamColors:true
[arm_6]
x:0
y:0
image_end:Lmissile_R17.png
image_end_shadow:SHADOW:Lmissile_R17.png
image_end_teamColors:true
[arm_7]
x:0
y:0
image_end:Lmissile_R17a.png
image_end_shadow:SHADOW:Lmissile_R17a.png
image_end_teamColors:true
[arm_8]
x:0
y:0
image_end:topgun_D30.png
image_end_shadow:SHADOW:topgun_D30.png
image_end_teamColors:true
[arm_9]
x:0
y:0
image_end:LDC.png
image_end_shadow:SHADOW:LDC.png
image_end_teamColors:true
[arm_10]
x:0
y:0
image_end:LDR_R5.png
image_end_teamColors:true
[arm_11]
x:0
y:0
image_end:LDL_L5.png
image_end_teamColors:true
[arm_12]
x:0
y:0
image_end:Rwingcover_L13.png
image_end_shadow:SHADOW:Rwingcover_L13.png
drawOverBody:true
image_end_teamColors:true
[arm_13]
x:0
y:0
image_end:Lwingcoverr_R13.png
image_end_shadow:SHADOW:Lwingcoverr_R13.png
drawOverBody:true
image_end_teamColors:true
[arm_14]
x:0
y:0
image_end:Rmissilecover_L22.png
image_end_shadow:SHADOW:Rmissilecover_L22.png
drawOverBody:true
image_end_teamColors:true
[arm_15]
x:0
y:0
image_end:Lmissilecover_R22.png
image_end_shadow:SHADOW:Lmissilecover_R22.png
drawOverBody:true
image_end_teamColors:true
[action_1]
highPriorityQueue:true
text:Switch Mode
text_zh:切换模式
buildSpeed:1s
alwaysSinglePress:true
convertTo:Ek_AirBastion_
whenBuilding_playAnimation:convert
canPlayerCancel:false
[animation_convert]
blendIn:0s
arm1_1s:{x:0,y:-10}
arm2_1s:{x:-12,y:0}
arm3_1s:{x:12,y:0}
arm4_1s:{x:-17,y:0}
arm5_1s:{x:-13,y:0}
arm6_1s:{x:17,y:0}
arm7_1s:{x:13,y:0}
arm8_1s:{x:0,y:-30}
arm10_1s:{x:5,y:0}
arm11_1s:{x:-5,y:0}
arm12_1s:{x:-13,y:0}
arm13_1s:{x:13,y:0}
arm14_1s:{x:-22,y:0}
arm15_1s:{x:22,y:0}
[attack]
canAttack:true
maxAttackRange:500
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
attackMovement:bomber
[turret_bomb]
invisible:true
x:-0.5
y:0
idleDir:0
projectile:los
size:1
limitingRange:160
turnSpeed:0
delay:10
canAttackFlyingUnits:false
canAttackCondition:if self.ammo(greaterThan=0)
onShoot_triggerActions:dropBombs1
showRangeUIGuide:0
canAttackMaxAngle:360
[action_countBombs]
addResources:ammo=1
price:ammo=1
text:Bombs:
description:-Amount of bombs available to drop
text_zh:炸弹剩余:
description_zh:剩余的炸弹
displayType:infoOnly
allowMultipleInQueue:false
canPlayerCancel:false
alwaysSinglePress:true
buildSpeed:0s
pos:0
displayRemainingStockpile:true
isActive:false
[hiddenAction_Rearm]
autoTrigger:if not self.hasFlag(id=3)and not self.ammo(greaterThan=0)
addResources:setFlag=3
buildSpeed:0s
alsoQueueAction:Bullets
[hiddenAction_Bullets]
buildSpeed:1s
addResources:unsetFlag=3,ammo=25
[hiddenAction_Ammo!!!]
autoTriggerOnEvent:created
addResources:ammo=25
[hiddenAction_dropBombs1]
requireConditional:if self.ammo(greaterThan=0)
fireTurretXAtGround:2
fireTurretXAtGround_withOffset:-0.5,0
alsoQueueAction:dropBombs2
addResources:ammo=-1
buildSpeed:0.05s
[hiddenAction_dropBombs2]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs3
[hiddenAction_dropBombs3]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs4
[hiddenAction_dropBombs4]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs5
[hiddenAction_dropBombs5]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs6
[hiddenAction_dropBombs6]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs7
[hiddenAction_dropBombs7]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs8
[hiddenAction_dropBombs8]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs9
[hiddenAction_dropBombs9]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs10
[hiddenAction_dropBombs10]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs11
[hiddenAction_dropBombs11]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs12
[hiddenAction_dropBombs12]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs13
[hiddenAction_dropBombs13]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs14
[hiddenAction_dropBombs14]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs15
[hiddenAction_dropBombs15]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs16
[hiddenAction_dropBombs16]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs17
[hiddenAction_dropBombs17]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs18
[hiddenAction_dropBombs18]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs19
[hiddenAction_dropBombs19]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs20
[hiddenAction_dropBombs20]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs21
[hiddenAction_dropBombs21]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs22
[hiddenAction_dropBombs22]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs23
[hiddenAction_dropBombs23]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs24
[hiddenAction_dropBombs24]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:dropBombs25
[hiddenAction_dropBombs25]
@copyFromSection:hiddenAction_dropBombs1
alsoQueueAction:NONE
[turret_2]
x:-0.5
y:0
canShoot:false
projectile:2
turnSpeed:0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
idleDir:0
idleDirReversing:0
canAttackMaxAngle:360
[projectile_2]
directDamage:0
life:1
instant:true
deflectionPower:-1
explodeEffect:NONE
spawnProjectilesOnCreate:2r(offsetDir=0)
[projectile_2r]
drawUnderUnits:true
image:bomb.png
life:600
deflectionPower:1
areaDamage:100
areaRadius:100
speed:0.5
drawSize:0.6
largeHitEffect:true
[turret_4a]
x:-24.5
y:12
turnSpeed:0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
idleDir:0
idleDirReversing:0
canAttackMaxAngle:360
delay:10
projectile:4
[turret_4b]
x:23.5
y:12
turnSpeed:0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
idleDir:0
idleDirReversing:0
canAttackMaxAngle:360
delay:10
linkDelayWithTurret:4a
projectile:4
[turret_4c]
x:-24.5
y:-12
turnSpeed:0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
idleDir:0
idleDirReversing:0
canAttackMaxAngle:360
delay:10
linkDelayWithTurret:4a
projectile:4
[turret_4d]
x:23.5
y:-12
turnSpeed:0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
idleDir:0
idleDirReversing:0
canAttackMaxAngle:360
delay:10
linkDelayWithTurret:4a
projectile:4
[projectile_4]
directDamage:12
life:100
speed:10
frame:11
drawSize:1
lightColor:#eefbff
lightSize:0.4
drawUnderUnits:true
deflectionPower:-1
[turret_AA_1]
invisible:true
image:SHARED:blank.png
x:-37
y:5
size:1
delay:60
canShoot:true
turnSpeed:0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
idleDir:0
idleDirReversing:0
shouldResetTurret:true
shoot_sound:missile_fire
shoot_sound_vol:0.1
shoot_flame:NONE
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
projectile:3s
warmup:0
warmupCallDownRate:0
canAttackMaxAngle:360
aimOffsetSpread:0
[turret_AA_2]
@copyFromSection:turret_AA_1
linkDelayWithTurret:AA_1
warmup:4
idleDir:-10
idleDirReversing:-10
projectile:3
[turret_AA_3]
@copyFromSection:turret_AA_1
linkDelayWithTurret:AA_1
warmup:8
idleDir:-20
idleDirReversing:-20
projectile:3l
[turret_AA_4]
@copyFromSection:turret_AA_1
x:-46
y:8
linkDelayWithTurret:AA_1
warmup:12
idleDir:-30
idleDirReversing:-30
projectile:3s
[turret_AA_5]
@copyFromSection:turret_AA_1
x:-46
y:8
linkDelayWithTurret:AA_1
warmup:16
idleDir:-40
idleDirReversing:-40
projectile:3
[turret_AA_6]
@copyFromSection:turret_AA_1
x:-46
y:8
linkDelayWithTurret:AA_1
warmup:20
idleDir:-50
idleDirReversing:-50
projectile:3l
[turret_AA_7]
@copyFromSection:turret_AA_1
x:36
y:5
linkDelayWithTurret:AA_1
warmup:2
[turret_AA_8]
@copyFromSection:turret_AA_1
x:36
y:5
linkDelayWithTurret:AA_1
warmup:6
idleDir:10
idleDirReversing:10
projectile:3
[turret_AA_9]
@copyFromSection:turret_AA_1
x:36
y:5
linkDelayWithTurret:AA_1
warmup:10
idleDir:20
idleDirReversing:20
projectile:3l
[turret_AA_10]
@copyFromSection:turret_AA_1
x:45
y:8
linkDelayWithTurret:AA_1
warmup:14
idleDir:30
idleDirReversing:30
[turret_AA_11]
@copyFromSection:turret_AA_1
x:45
y:8
linkDelayWithTurret:AA_1
warmup:18
idleDir:40
idleDirReversing:40
projectile:3
[turret_AA_12]
@copyFromSection:turret_AA_1
x:45
y:8
linkDelayWithTurret:AA_1
warmup:22
idleDir:50
idleDirReversing:50
projectile:3l
[projectile_3]
areaDamage:60
areaRadius:40
life:50
speed:8
turnSpeed:0
trailEffect:true
largeHitEffect:true
image:missile.png
spawnProjectilesOnEndOfLife:3a
lightSize:0
deflectionPower:-1
[projectile_3s]
@copyFromSection:projectile_3
speed:6
life:40
spawnProjectilesOnEndOfLife:3as
[projectile_3l]
@copyFromSection:projectile_3
speed:10
life:30
spawnProjectilesOnEndOfLife:3al
[projectile_3a]
areaDamage:60
areaRadius:40
turnSpeed:6
speed:8
drawSize:1
trailEffect:true
ballistic:true
ballistic_delaymove_height:0.2
ballistic_height:0.2
retargetingInFlight:true
retargetingInFlightSearchRange:200
autoTargetingOnDeadTarget:true
autoTargetingOnDeadTargetRange:500
largeHitEffect:true
life:600
image:missile.png
lightSize:0
deflectionPower:-1
explodeOnEndOfLife:true
[projectile_3as]
@copyFromSection:projectile_3a
turnSpeed:4
speed:6
[projectile_3al]
@copyFromSection:projectile_3a
turnSpeed:8
speed:10
[turret_los]
x:-0.5
y:0
idleDir:0
limitingRange:100
delay:0.1
projectile:los
energyUsage:0.5
turnSpeed:360
shoot_sound:NONE
shoot_flame:NONE
canShoot:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
recoilOffset:0
showRangeUIGuide:0
[projectile_los]
directDamage:0
life:1
instant:true
deflectionPower:-1
explodeEffect:NONE
[turret_1]
x:-0.5
y:73
size:0
limitingAngle:15
turnSpeed:0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
idleDir:0
idleDirReversing:0
canAttackMaxAngle:360
delay:2
limitingMinRange:100
projectile:1
shoot_sound:large_gun_fire2
shoot_sound_vol:0.2
shoot_light:#33FFCC00
canShoot:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
recoilOffset:0
aimOffsetSpread:0
barrelX:-4.5
barrelOffsetX_onOddShots:9
[turret_1a]
x:-0.5
y:51
size:0
limitingAngle:15
turnSpeed:0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001
idleDir:0
idleDirReversing:0
canAttackMaxAngle:360
delay:2
limitingMinRange:100
projectile:1
shoot_sound:large_gun_fire2
shoot_sound_vol:0.2
shoot_light:#33FFCC00
canShoot:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
recoilOffset:0
aimOffsetSpread:0
barrelX:-11
barrelOffsetX_onOddShots:22
[projectile_1]
life:70
speed:12
areaDamage:70
areaRadius:30
targetGround:true
targetGround_includeTargetHeight:true
targetGroundSpread:20
image:projectile_egret_tracer.png
drawSize:1
color:#FFDDAA
largeHitEffect:true
lightColor:#FFFF5500
lightSize:0.7
deflectionPower:-1
[movement]
movementType:AIR
moveSpeed:4
moveAccelerationSpeed:0.0125
moveDecelerationSpeed:0.006
landOnGround:false
maxTurnSpeed:1.2
turnAcceleration:0.08
moveSlidingMode:false
moveIgnoringBody:false
slowDeathFall:true
reverseSpeedPercentage:0
targetHeight:20
[effect_EkJetfire1]
image:jetflame2.png
life:10
fadeOut:true
attachedToUnit:false
fadeInTime:1
scaleFrom:0.8
scaleTo:2.0
alpha:1
xSpeedRelativeRandom:0.1
yOffsetRelative:-65
xOffsetRelative:9.5
ySpeedRelative:0.4
dirOffsetRandom:0
drawUnderUnits:1
atmospheric:true
[effect_EkJetfire2]
@copyFromSection:effect_EkJetfire1
xOffsetRelative:2.5
scaleFrom:1.0
scaleTo:2.5
[effect_EkJetfire3]
@copyFromSection:effect_EkJetfire1
xOffsetRelative:-10.5
[effect_EkJetfire4]
@copyFromSection:effect_EkJetfire1
xOffsetRelative:-3.5
scaleFrom:1.0
scaleTo:2.5
[effect_EkJetwash]
image:jetwash.png
createWhenOverLand:false
delayedStartTimer:15
life:60
spawnChance:0.5
fadeOut:true
attachedToUnit:false
fadeInTime:10
scaleFrom:0.25
scaleTo:1.75
alpha:0.4
drawUnderUnits:true
hOffset:-20
xOffsetRelative:-0.5
ySpeedRelative:0.3
dirOffsetRandom:5
dirSpeedRandom:0.05
atmospheric:true
